<!-- This file was generated by mk_html_help.pro -->
<html>
 
<head>
<TITLE>projects/mms/sitl/sitl_data_fetch</TITLE>
</head>
 
<body>
<P>
This page was created by the IDL library routine 
<CODE>mk_html_help2</CODE>.
<br>
<P>
<STRONG>Last modified: </STRONG>Wed Dec 13 18:16:09 2017.<P>
 
<HR>
 
<A NAME="ROUTINELIST">
<H1>Directory Listing of Routines</H1></A>
<UL>
<H1>projects/mms/sitl/sitl_data_fetch</H1>
<LI><A HREF="#MMS_EIS_SITL">MMS_EIS_SITL</A>
<LI><A HREF="#MMS_ELIMINATE_SWEEPS">MMS_ELIMINATE_SWEEPS</A>
<LI><A HREF="#MMS_HPCA_SET_METADATA_SITL">MMS_HPCA_SET_METADATA_SITL</A>
<br>Sets metadata for HPCA tplot variables
<LI><A HREF="#MMS_SITL_EIS_OMNI">MMS_SITL_EIS_OMNI</A>
<br>Calculates the omni-directional flux for all 6 telescopes
<LI><A HREF="#MMS_SITL_EIS_SPIN_AVG">MMS_SITL_EIS_SPIN_AVG</A>
<br>Calculates spin-averaged fluxes for the EIS instrument
<LI><A HREF="#MMS_SITL_FEEPS_CORRECT_ENERGIES">MMS_SITL_FEEPS_CORRECT_ENERGIES
</A>
<br>This function modifies the energy table in FEEPS spectra (intensity, count_rate, counts) variables
<LI><A HREF="#MMS_SITL_FEEPS_ENERGY_TABLE">MMS_SITL_FEEPS_ENERGY_TABLE</A>
<br>This function returns the energy table based on
<LI><A HREF="#MMS_SITL_FEEPS_FLAT_FIELD_CORRECTIONS">
MMS_SITL_FEEPS_FLAT_FIELD_CORRECTIONS</A>
<br>Apply flat field correction factors to FEEPS ion/electron data;
<LI><A HREF="#MMS_SITL_FEEPS_OMNI">MMS_SITL_FEEPS_OMNI</A>
<br>Calculates the omni-directional flux for all 24 sensors
<LI><A HREF="#MMS_SITL_FEEPS_REMOVE_BAD_DATA">MMS_SITL_FEEPS_REMOVE_BAD_DATA</A>
<br>Removes bad eyes, bad lowest energy channels
<LI><A HREF="#MMS_SITL_FEEPS_REMOVE_SUN">MMS_SITL_FEEPS_REMOVE_SUN</A>
<br>Removes the sunlight contamination from FEEPS data
<LI><A HREF="#MMS_SITL_FEEPS_SECTOR_MASKS">MMS_SITL_FEEPS_SECTOR_MASKS</A>
<br>Returns the FEEPS sectors to mask due to sunlight contamination
<LI><A HREF="#MMS_SITL_FEEPS_SECTOR_SPEC">MMS_SITL_FEEPS_SECTOR_SPEC</A>
<br>Creates sector-spectrograms with FEEPS data (particle data organized by time and sector number)
<LI><A HREF="#MMS_SITL_FEEPS_SMOOTH">MMS_SITL_FEEPS_SMOOTH</A>
<LI><A HREF="#MMS_SITL_FEEPS_SPIN_AVG">MMS_SITL_FEEPS_SPIN_AVG</A>
<LI><A HREF="#MMS_SITL_FEEPS_SPLIT_INTEGRAL_CH">MMS_SITL_FEEPS_SPLIT_INTEGRAL_CH
</A>
<LI><A HREF="#MMS_SITL_GET_DSP">MMS_SITL_GET_DSP</A>
<LI><A HREF="#MMS_SITL_GET_EDI_AMB[1]">MMS_SITL_GET_EDI_AMB[1]</A>
<LI><A HREF="#MMS_SITL_GET_EDI_AMB[2]">MMS_SITL_GET_EDI_AMB[2]</A>
<LI><A HREF="#MMS_SITL_GET_EDI_AMB[2]">MMS_SITL_GET_EDI_AMB[2]</A>
<LI><A HREF="#MMS_SITL_GET_EDI_AMB[3]">MMS_SITL_GET_EDI_AMB[3]</A>
<LI><A HREF="#MMS_SITL_GET_EDI_AMB[4]">MMS_SITL_GET_EDI_AMB[4]</A>
<LI><A HREF="#MMS_SITL_GET_EDI_AMB[5]">MMS_SITL_GET_EDI_AMB[5]</A>
<LI><A HREF="#MMS_SITL_GET_EDI_AMB[6]">MMS_SITL_GET_EDI_AMB[6]</A>
<LI><A HREF="#MMS_SITL_GET_EDP">MMS_SITL_GET_EDP</A>
<LI><A HREF="#MMS_SITL_GET_EIS">MMS_SITL_GET_EIS</A>
<br>Load data from the MMS Energetic Ion Spectrometer (EIS)
<LI><A HREF="#MMS_SITL_GET_FEEPS">MMS_SITL_GET_FEEPS</A>
<br>Load data from the Fly's Eye Energetic Particle Sensor (FEEPS) onboard MMS
<LI><A HREF="#MMS_SITL_GET_HPCA">MMS_SITL_GET_HPCA</A>
<br>Load data from the MMS Hot Plasma Composition Analyzer (HPCA)
<LI><A HREF="#MMS_SITL_READ_FEEPS_SECTOR_MASKS_CSV">
MMS_SITL_READ_FEEPS_SECTOR_MASKS_CSV</A>
<br>Returns the FEEPS sectors to mask due to sunlight contamination
<LI><A HREF="#UNH_EDI_AMB_CRIB">UNH_EDI_AMB_CRIB</A>
<br>
</UL><P>
<HR>
 
<H1>Routine Descriptions</H1>
<A NAME="MMS_EIS_SITL">
<H2>MMS_EIS_SITL</H2></A>
<A HREF="#MMS_ELIMINATE_SWEEPS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 mms_eis_sitl.pro

 PURPOSE: Loads and generates EIS data for use by SITL in EVA

 KEYWORDS:
         trange: time range of interest (string, ex. ['yyyy-mm-dd','yyyy-mm-dd'])
         probe: string indicating value for mms SC #
         bin_size: size of the pitch angle bins (numeric)
         data_rate: instrument data rates ['brst', 'srvy' (default), 'fast', 'slow']
         data_units: desired units for data. for eis units are ['flux', 'cps', 'counts'] (default = flux)
         ion_type: array containing types of particles to include.
               for PHxTOF data, valid options are 'proton', 'oxygen'
               for ExTOF data, valid options are 'proton', 'oxygen', and/or 'alpha'
         i_ph: set to 1 to include phxtof protons (default = 0)
         i_plot: set to 1 to plot to screen (default = 0)
         i_print: set to 1 to print to PS file (default = 0)
         i_scopes: set to 1 to omit sun-blocked telescopes in PADs (default = 0)

 OUTPUT:

 CREATED BY: I. Cohen, 2016-01-12

</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_eis_sitl.pro">projects/mms/sitl/sitl_data_fetch/mms_eis_sitl.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_ELIMINATE_SWEEPS">
<H2>MMS_ELIMINATE_SWEEPS</H2></A>
<A HREF="#MMS_EIS_SITL">[Previous Routine]</A>
<A HREF="#MMS_HPCA_SET_METADATA_SITL">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 FUNCTION: mms_eliminate_sweeps

 PURPOSE: Describe the procedure.

 INPUT:
 :Params:
    cdfie: cdf info structure, output of cdf_load_vars

 OUTPUT:
 :Keywords:
    verbose - MAKE IT TALK TO YOU
 :Author: Katherine Goodrich, contact: katherine.goodrich@colorado.edu
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_eliminate_sweeps.pro">projects/mms/sitl/sitl_data_fetch/mms_eliminate_sweeps.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_HPCA_SET_METADATA_SITL">
<H2>MMS_HPCA_SET_METADATA_SITL</H2></A>
<A HREF="#MMS_ELIMINATE_SWEEPS">[Previous Routine]</A>
<A HREF="#MMS_SITL_EIS_OMNI">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
         mms_hpca_set_metadata
         
 PURPOSE:
         Sets metadata for HPCA tplot variables
 
 KEYWORDS:
         prefix: prefix for names of the tplot variables, typically 'mms#' where # is the S/C number
         fov: field of view of the instrument, for setting the title in spectra
 

 $LastChangedBy: rickwilder $
 $LastChangedDate: 2015-09-13 16:50:23 -0700 (Sun, 13 Sep 2015) $
 $LastChangedRevision: 18783 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_hpca_set_metadata_sitl.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_hpca_set_metadata_sitl.pro">projects/mms/sitl/sitl_data_fetch/mms_hpca_set_metadata_sitl.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_EIS_OMNI">
<H2>MMS_SITL_EIS_OMNI</H2></A>
<A HREF="#MMS_HPCA_SET_METADATA_SITL">[Previous Routine]</A>
<A HREF="#MMS_SITL_EIS_SPIN_AVG">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
         mms_eis_omni

 PURPOSE:
       Calculates the omni-directional flux for all 6 telescopes

 NOTES:
       Originally based on Brian Walsh's EIS code from 7/29/2015


$LastChangedBy: rickwilder $
$LastChangedDate: 2016-04-07 12:43:36 -0700 (Thu, 07 Apr 2016) $
$LastChangedRevision: 20745 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_eis_omni.pro $

 REVISION HISTORY:
       + 2016-02-26, I. Cohen      : changed 'cps' units_label from 'Counts/s' to '1/s' for compliance with mission standards
       + 2016-03-09, I. Cohen      : altered ylabel for new omni variables

</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_eis_omni.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_eis_omni.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_EIS_SPIN_AVG">
<H2>MMS_SITL_EIS_SPIN_AVG</H2></A>
<A HREF="#MMS_SITL_EIS_OMNI">[Previous Routine]</A>
<A HREF="#MMS_SITL_FEEPS_CORRECT_ENERGIES">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
         mms_eis_spin_avg

 PURPOSE:
         Calculates spin-averaged fluxes for the EIS instrument

 KEYWORDS:
         probe:        Probe # to calculate the spin average for
                       if no probe is specified the default is probe '1'
         datatype:     eis data types include ['electronenergy', 'extof', 'partenergy', 'phxtof'].
                       If no value is given the default is 'extof'.
         data_rate:    instrument data rates for eis include 'brst' 'srvy'. The
                       default is 'srvy'.
         data_units:   desired units for data. for eis units are ['flux', 'cps', 'counts'].
                       The default is 'flux'.
         suffix:       appends a suffix to the end of the tplot variable name. this is useful for
                       preserving original tplot variable.
         species:      species (should be: proton, oxygen, alpha or electron)

 OUTPUT:



$LastChangedBy: rickwilder $
$LastChangedDate: 2016-04-07 12:43:36 -0700 (Thu, 07 Apr 2016) $
$LastChangedRevision: 20745 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_eis_spin_avg.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_eis_spin_avg.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_eis_spin_avg.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_FEEPS_CORRECT_ENERGIES">
<H2>MMS_SITL_FEEPS_CORRECT_ENERGIES</H2></A>
<A HREF="#MMS_SITL_EIS_SPIN_AVG">[Previous Routine]</A>
<A HREF="#MMS_SITL_FEEPS_ENERGY_TABLE">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
       mms_feeps_correct_energies

 PURPOSE:
       This function modifies the energy table in FEEPS spectra (intensity, count_rate, counts) variables
       using the function: mms_feeps_energy_table (which is s/c, sensor head and sensor ID dependent)

 NOTES:
     BAD EYES are replaced by NaNs


 $LastChangedBy: rickwilder $
 $LastChangedDate: 2017-08-09 13:51:06 -0700 (Wed, 09 Aug 2017) $
 $LastChangedRevision: 23769 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_correct_energies.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_feeps_correct_energies.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_correct_energies.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_FEEPS_ENERGY_TABLE">
<H2>MMS_SITL_FEEPS_ENERGY_TABLE</H2></A>
<A HREF="#MMS_SITL_FEEPS_CORRECT_ENERGIES">[Previous Routine]</A>
<A HREF="#MMS_SITL_FEEPS_FLAT_FIELD_CORRECTIONS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 FUNCTION:
       mms_feeps_energy_table

 PURPOSE:
       This function returns the energy table based on
       each spacecraft and eye; based on the table from:
       
               FlatFieldResults_V3.xlsx
               
       from Drew Turner, 1/19/2017
               

 NOTES:
     BAD EYES are replaced by NaNs
     
     - different original energy tables are used depending on if the sensor head is 6-8 (ions) or not (electrons)
     
     Electron Eyes: 1, 2, 3, 4, 5, 9, 10, 11, 12
     Ion Eyes: 6, 7, 8
 
 $LastChangedBy: rickwilder $
 $LastChangedDate: 2017-08-09 13:51:06 -0700 (Wed, 09 Aug 2017) $
 $LastChangedRevision: 23769 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_energy_table.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_feeps_energy_table.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_energy_table.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_FEEPS_FLAT_FIELD_CORRECTIONS">
<H2>MMS_SITL_FEEPS_FLAT_FIELD_CORRECTIONS</H2></A>
<A HREF="#MMS_SITL_FEEPS_ENERGY_TABLE">[Previous Routine]</A>
<A HREF="#MMS_SITL_FEEPS_OMNI">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
       mms_feeps_flat_field_corrections

 PURPOSE:
       Apply flat field correction factors to FEEPS ion/electron data;
       correct factors are from the gain factor found in:
       
           FlatFieldResults_V3.xlsx
           
       from Drew Turner, 1/19/2017

 NOTES:
 
   From Drew Turner, 1/18/17:
       Here are the correction factors that we need to apply to the current 
       ION counts/rates/fluxes in the CDF files.  
       NOTE, THIS IS A DIFFERENT TYPE OF CORRECTION THAN THAT FOR THE ELECTRONS!  
       These shifts should be applied to the counts/rates/fluxes data EYE-BY-EYE on each spacecraft.  
       These are multiplication factors (i.e., Jnew = Jold * Gcorr). 
       For those equations, Jold is the original count/rate/flux array and
       Jnew is the corrected version of the arrays using the factors listed below.
       
MMS1:
Top6: Gcorr = 0.7
Top7: Gcorr = 2.5
Top8: Gcorr = 1.5
Bot6: Gcorr = 0.9
Bot7: Gcorr = 1.2
Bot8: Gcorr = 1.0

MMS2:
Top6: Gcorr = 1.3
Top7: BAD EYE
Top8: Gcorr = 0.8
Bot6: Gcorr = 1.4
Bot7: BAD EYE
Bot8: Gcorr = 1.5

MMS3:
Top6: Gcorr = 0.7
Top7: Gcorr = 0.8
Top8: Gcorr = 1.0
Bot6: Gcorr = 0.9
Bot7: Gcorr = 0.9
Bot8: Gcorr = 1.3

MMS4:
Top6: Gcorr = 0.8
Top7: BAD EYE
Top8: Gcorr = 1.0
Bot6: Gcorr = 0.8
Bot7: Gcorr = 0.6
Bot8: Gcorr = 0.9

 $LastChangedBy: rickwilder $
 $LastChangedDate: 2017-08-09 13:51:06 -0700 (Wed, 09 Aug 2017) $
 $LastChangedRevision: 23769 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_flat_field_corrections.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_feeps_flat_field_corrections.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_flat_field_corrections.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_FEEPS_OMNI">
<H2>MMS_SITL_FEEPS_OMNI</H2></A>
<A HREF="#MMS_SITL_FEEPS_FLAT_FIELD_CORRECTIONS">[Previous Routine]</A>
<A HREF="#MMS_SITL_FEEPS_REMOVE_BAD_DATA">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
         mms_feeps_omni

 PURPOSE:
       Calculates the omni-directional flux for all 24 sensors 
       
       (this version re-bins the data due to the different energy channels for each s/c, sensor head and sensor ID)
       
 INPUT:
       probe:      spacecraft # (1, 2, 3, or 4)

 KEYWORDS:

       datatype:   feeps data types include ['electron', 'electron-bottom', 'electron-top',
                   'ion', 'ion-bottom', 'ion-top'].
                   If no value is given the default is 'electron'.
       data_rate:  instrument data rates for feeps include 'brst' 'srvy'. The
                   default is 'srvy'
       tplotnames: names of loaded tplot variables
       suffix:     suffix used in call to mms_load_data; required to find the correct
                   variables
       data_units: specify units for omni-directional calculation

 NOTES:
       New version, 1/26/17 - egrimes
       Newer version, 1/31/17 - dturner
       Fixed 2 bugs (3/29/17): 1) off by one bug when setting bottom sensor without data to NaNs, and
                               2) now initializing output as NaNs, to avoid setting channels with 
                                 counts=0 to NaN - egrimes


 $LastChangedBy: rickwilder $
 $LastChangedDate: 2017-08-09 13:51:06 -0700 (Wed, 09 Aug 2017) $
 $LastChangedRevision: 23769 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_omni.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_feeps_omni.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_omni.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_FEEPS_REMOVE_BAD_DATA">
<H2>MMS_SITL_FEEPS_REMOVE_BAD_DATA</H2></A>
<A HREF="#MMS_SITL_FEEPS_OMNI">[Previous Routine]</A>
<A HREF="#MMS_SITL_FEEPS_REMOVE_SUN">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
       mms_feeps_remove_bad_data

 PURPOSE:
       Removes bad eyes, bad lowest energy channels 
       based on data from Drew Turner, 1/26/2017

 NOTES:

 $LastChangedBy: rickwilder $
 $LastChangedDate: 2017-08-09 13:51:06 -0700 (Wed, 09 Aug 2017) $
 $LastChangedRevision: 23769 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_remove_bad_data.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_feeps_remove_bad_data.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_remove_bad_data.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_FEEPS_REMOVE_SUN">
<H2>MMS_SITL_FEEPS_REMOVE_SUN</H2></A>
<A HREF="#MMS_SITL_FEEPS_REMOVE_BAD_DATA">[Previous Routine]</A>
<A HREF="#MMS_SITL_FEEPS_SECTOR_MASKS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
       mms_feeps_remove_sun

 PURPOSE:
       Removes the sunlight contamination from FEEPS data

 NOTES:
       Will only work in IDL 8.0+, due to the hash table data structure
     
       Originally based on code from Drew Turner, 2/1/2016

 $LastChangedBy: rickwilder $
 $LastChangedDate: 2017-08-09 13:51:06 -0700 (Wed, 09 Aug 2017) $
 $LastChangedRevision: 23769 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_remove_sun.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_feeps_remove_sun.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_remove_sun.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_FEEPS_SECTOR_MASKS">
<H2>MMS_SITL_FEEPS_SECTOR_MASKS</H2></A>
<A HREF="#MMS_SITL_FEEPS_REMOVE_SUN">[Previous Routine]</A>
<A HREF="#MMS_SITL_FEEPS_SECTOR_SPEC">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 
 FUNCTION:
         mms_feeps_sector_masks
         
 PURPOSE:
         Returns the FEEPS sectors to mask due to sunlight contamination
 
 OUTPUT:
         Hash table containing the sectors to mask for each spacecraft and sensor ID
         
 EXAMPLE:
     ; to get the masks for MMS1, top sensor = 1:
     IDL&gt; masks = mms_feeps_sector_masks()
     
     ; note the concatenation: mms+probe#+imask+[t or b]+sensorID
     IDL&gt; mms1_top_sensor1 = masks['mms1imaskt1']
     IDL&gt; mms1_top_sensor1
         2       3       4       5       6      20      21
     
     
 NOTES:
     Will only work in IDL 8.0+, due to the hash table data structure
     
     Based on code from Drew Turner, 2/1/2016
        Modifications: 
          dindgen -&gt; indgen (egrimes, 2/11/2016)

 $LastChangedBy: rickwilder $
 $LastChangedDate: 2016-04-07 09:08:39 -0700 (Thu, 07 Apr 2016) $
 $LastChangedRevision: 20741 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_sector_masks.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_feeps_sector_masks.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_sector_masks.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_FEEPS_SECTOR_SPEC">
<H2>MMS_SITL_FEEPS_SECTOR_SPEC</H2></A>
<A HREF="#MMS_SITL_FEEPS_SECTOR_MASKS">[Previous Routine]</A>
<A HREF="#MMS_SITL_FEEPS_SMOOTH">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
         mms_feeps_sector_spec

 PURPOSE:
       Creates sector-spectrograms with FEEPS data (particle data organized by time and sector number)

 NOTES:

 
 $LastChangedBy: rickwilder $
 $LastChangedDate: 2017-08-09 13:51:06 -0700 (Wed, 09 Aug 2017) $
 $LastChangedRevision: 23769 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_sector_spec.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_feeps_sector_spec.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_sector_spec.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_FEEPS_SMOOTH">
<H2>MMS_SITL_FEEPS_SMOOTH</H2></A>
<A HREF="#MMS_SITL_FEEPS_SECTOR_SPEC">[Previous Routine]</A>
<A HREF="#MMS_SITL_FEEPS_SPIN_AVG">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
Procedure:
     mms_feeps_smooth

Purpose:
     Creates tplot variables of the smoothed spectra, with smoothing
     specified by num_smooth

$LastChangedBy: rickwilder $
$LastChangedDate: 2017-08-09 13:51:06 -0700 (Wed, 09 Aug 2017) $
$LastChangedRevision: 23769 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_smooth.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_feeps_smooth.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_smooth.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_FEEPS_SPIN_AVG">
<H2>MMS_SITL_FEEPS_SPIN_AVG</H2></A>
<A HREF="#MMS_SITL_FEEPS_SMOOTH">[Previous Routine]</A>
<A HREF="#MMS_SITL_FEEPS_SPLIT_INTEGRAL_CH">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
Procedure:
     mms_feeps_spin_avg

Purpose:
     spin-averages FEEPS spectra using the '_spinsectnum' 
       variable (variable containing spin sector #s associated 
       with each measurement)

$LastChangedBy: rickwilder $
$LastChangedDate: 2017-08-09 13:51:06 -0700 (Wed, 09 Aug 2017) $
$LastChangedRevision: 23769 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_spin_avg.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_feeps_spin_avg.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_spin_avg.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_FEEPS_SPLIT_INTEGRAL_CH">
<H2>MMS_SITL_FEEPS_SPLIT_INTEGRAL_CH</H2></A>
<A HREF="#MMS_SITL_FEEPS_SPIN_AVG">[Previous Routine]</A>
<A HREF="#MMS_SITL_GET_DSP">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 Procedure:
  mms_feeps_split_integral_ch

 Purpose:
    this procedure splits the last integral channel from the FEEPS spectra, 
    creating 2 new tplot variables:
    
       [original variable]_clean - spectra with the integral channel removed
       [original variable]_500keV_int - the integral channel that was removed

$LastChangedBy: rickwilder $
$LastChangedDate: 2017-08-09 13:51:06 -0700 (Wed, 09 Aug 2017) $
$LastChangedRevision: 23769 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_split_integral_ch.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_feeps_split_integral_ch.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_feeps_split_integral_ch.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_GET_DSP">
<H2>MMS_SITL_GET_DSP</H2></A>
<A HREF="#MMS_SITL_FEEPS_SPLIT_INTEGRAL_CH">[Previous Routine]</A>
<A HREF="#MMS_SITL_GET_EDI_AMB[1]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE: mms_load_dsp

 PURPOSE: Fetches desired data from the DSP (Digital Signal Processing) Board.

 INPUT:
 :Keywords:
    trange       : OPTIONAL - time range of desired data. Ex: ['2015-05-01', '2015-05-02']
                    Default input is timespan input.
    sc_id        : OPTIONAL - desired spacecraft, Ex: 'mms1','mms2', etc.
                    Default input is all s/c
    data_rate    : OPTIONAL - desired data sampling mode, Example: mode='srvy'
                             due to cataloging at the SDC, WE REQUIRE YOU LOAD ONLY ONE MODE AT A TIME
                    Default input - srvy mode
    level        : OPTIONAL - desired level, options are level 1a, 1b, ql, 2
                    Default input - all levels
    datatype    : OPTIONAL - desired data type. Ex: ['epsd', 'tdn', 'swd']
                    Default input - all data types!

    no_update    : OPTIONAL - /no_update to ensure your current data is not reloaded due to an update at the SDC
    reload       : OPTIONAL - /reload to ensure current data is reloaded due to an update at the SDC
    DO NOT DO BOTH /NO_UPDATE AND /RELOAD TOGETHER. THAT IS SILLY!
    get_support_data  : OPTIONAL - /get_support_data to get support data within the CDF
   



 OUTPUT: tplot variables listed at the end of the procedure
 :Author: Katherine Goodrich, contact: katherine.goodrich@colorado.edu
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_get_dsp.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_get_dsp.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_GET_EDI_AMB[1]">
<H2>MMS_SITL_GET_EDI_AMB[1]</H2></A>
<A HREF="#MMS_SITL_GET_DSP">[Previous Routine]</A>
<A HREF="#MMS_SITL_GET_EDI_AMB[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
   Fetch EDI Ambient mode SITL products from the SDC for display using tplot.
   The routine creates tplot variables based on the names in the mms CDF files.
   Data files are cached locally in !mms.local_data_dir.

 :Categories:
    MMS, EDI, SITL, QL

 :Author:
    Matthew Argall::
    University of New Hampshire
    Morse Hall Room 348
    8 College Road
    Durham, NH 03824
    matthew.argall@unh.edu

 :History:
    Modification History::
       2015/07/20  -   Written by Matthew Argall
       2015/09/06  -   Incorporated cdf reader. Read pitch angle info. - MRA
       2015/10/09  -   Skip and inform of files that have no data. Added LEVEL and
                           MODE keywords. - MRA
       2016/05/05  -   Updated to work with packing mode 2 data. - MRA
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_get_edi_amb.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_get_edi_amb.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_GET_EDI_AMB[2]">
<H2>MMS_SITL_GET_EDI_AMB[2]</H2></A>
<A HREF="#MMS_SITL_GET_EDI_AMB[1]">[Previous Routine]</A>
<A HREF="#MMS_SITL_GET_EDI_AMB[2]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
   Open an EDI ambient mode data file and return data in the form of a structure.

 :Keywords:
        FILENAME:     in, required, type=string
                      CDF filename from which variable data is to be loaded.
        DATA_STRUCT:  in, optional, type=struct
                      If data is to be read from multiple files, iteratively pass
                          in the output of previous calls to append new and old data
                          together.
        MODE:         in, required, type=string
                      Telementry mode of the file: 'slow', 'fast', 'srvy', 'brst'

 :Returns:
        DATA_STRUCT:  A data structure with pitch angle and count data. Can be passed
                         in via the `DATA_STRUCT` parameter on successive calls.

</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_get_edi_amb.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_get_edi_amb.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_GET_EDI_AMB[2]">
<H2>MMS_SITL_GET_EDI_AMB[2]</H2></A>
<A HREF="#MMS_SITL_GET_EDI_AMB[2]">[Previous Routine]</A>
<A HREF="#MMS_SITL_GET_EDI_AMB[3]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
   Open an EDI ambient mode data file and return data in the form of a structure.

 :Keywords:
        FILENAME:     in, required, type=string
                      CDF filename from which variable data is to be loaded.
        DATA_STRUCT:  in, optional, type=struct
                      If data is to be read from multiple files, iteratively pass
                          in the output of previous calls to append new and old data
                          together.
        MODE:         in, required, type=string
                      Telementry mode of the file: 'slow', 'fast', 'srvy', 'brst'

 :Returns:
        DATA_STRUCT:  A data structure with pitch angle and count data. Can be passed
                         in via the `DATA_STRUCT` parameter on successive calls.

</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_get_edi_amb.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_get_edi_amb.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_GET_EDI_AMB[3]">
<H2>MMS_SITL_GET_EDI_AMB[3]</H2></A>
<A HREF="#MMS_SITL_GET_EDI_AMB[2]">[Previous Routine]</A>
<A HREF="#MMS_SITL_GET_EDI_AMB[4]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
   Store EDI data into TPLOT variables.

 :Keywords:
        DATA:         in, required, type=struct
                      Data structure created by UNH_SITL_EDI_AMB_LOAD.
        SC:           in, required, type=string
                      MMS spacecraft identifier. Used in creating TPLOT variable names.
        MODE:         in, required, type=string/strarr
                      Telementry mode of the file: 'slow', 'fast', 'srvy', 'brst'
        OPTDESC:      in, required, type=string
                      Optional descriptor of the file(s) from which `DATA` was extracted.
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_get_edi_amb.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_get_edi_amb.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_GET_EDI_AMB[4]">
<H2>MMS_SITL_GET_EDI_AMB[4]</H2></A>
<A HREF="#MMS_SITL_GET_EDI_AMB[3]">[Previous Routine]</A>
<A HREF="#MMS_SITL_GET_EDI_AMB[5]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
   Sort EDI data by pitch angle instead of GDU

 :Keywords:
        SC:           in, required, type=string
                      MMS spacecraft identifier. Used in creating TPLOT variable names.
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_get_edi_amb.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_get_edi_amb.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_GET_EDI_AMB[5]">
<H2>MMS_SITL_GET_EDI_AMB[5]</H2></A>
<A HREF="#MMS_SITL_GET_EDI_AMB[4]">[Previous Routine]</A>
<A HREF="#MMS_SITL_GET_EDI_AMB[6]">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
   Fetch EDI Ambient mode SITL products from the SDC for display using tplot.
   The routine creates tplot variables based on the names in the mms CDF files.
   Data files are cached locally in !mms.local_data_dir.

 :Keywords:
        LEVEL:        in, optional, type=string, default='l1a'
                      Level of data product. Current choices are: ['l1a']
        MODE:         in, optional, type=string, default=['fast', 'slow']
                      Telemetry mode of data. Options are: 'slow', 'fast', 'srvy', 'brst'
                          or ['fast', 'slow']. The last option reads in fast and slow
                          survey data and combines them to resemble &quot;srvy&quot; data.
        NO_UPDATE:    in, optional, type=boolean, default=0
                      Set if you don't wish to replace earlier file versions
                        with the latest version. If not set, earlier versions are deleted
                        and replaced.
        RELOAD:       in, optional, type=boolean, default=0
                      Set if you wish to download all files in query, regardless
                        of whether file exists locally. Useful if obtaining recent data files
                        that may not have been full when you last cached them. Cannot
                        be used with `NO_UPDATE`.
        SC:           in, optional, type=string/strarr, default='mms1'
                      Array of strings containing spacecraft ids.
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_get_edi_amb.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_get_edi_amb.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_GET_EDI_AMB[6]">
<H2>MMS_SITL_GET_EDI_AMB[6]</H2></A>
<A HREF="#MMS_SITL_GET_EDI_AMB[5]">[Previous Routine]</A>
<A HREF="#MMS_SITL_GET_EDP">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
   Fetch EDI Ambient mode SITL products from the SDC for display using tplot.
   The routine creates tplot variables based on the names in the mms CDF files.
   Data files are cached locally in !mms.local_data_dir.

 :Keywords:
        LEVEL:        in, optional, type=string, default='l1a'
                      Level of data product. Current choices are: ['l1a']
        MODE:         in, optional, type=string, default=['fast', 'slow']
                      Telemetry mode of data. Options are: 'slow', 'fast', 'srvy', 'brst'
                          or ['fast', 'slow']. The last option reads in fast and slow
                          survey data and combines them to resemble &quot;srvy&quot; data.
        NO_UPDATE:    in, optional, type=boolean, default=0
                      Set if you don't wish to replace earlier file versions
                        with the latest version. If not set, earlier versions are deleted
                        and replaced.
        RELOAD:       in, optional, type=boolean, default=0
                      Set if you wish to download all files in query, regardless
                        of whether file exists locally. Useful if obtaining recent data files
                        that may not have been full when you last cached them. Cannot
                        be used with `NO_UPDATE`.
        SC:           in, optional, type=string/strarr, default='mms1'
                      Array of strings containing spacecraft ids.
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_get_edi_amb.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_get_edi_amb.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_GET_EDP">
<H2>MMS_SITL_GET_EDP</H2></A>
<A HREF="#MMS_SITL_GET_EDI_AMB[6]">[Previous Routine]</A>
<A HREF="#MMS_SITL_GET_EIS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE: mms_load_edp

 PURPOSE: Fetches desired data from the EDP (Electric field Double Probes) instrument.

 INPUT:
 :Keywords:
    trange       : OPTIONAL - time range of desired data. Ex: ['2015-05-1', '2015-05-02']
                    Default input is timespan input.
    sc_id        : OPTIONAL - desired spacecraft, Ex: 'mms1','mms2', etc.
                    Default input is all s/c
    mode         : OPTIONAL - desired data sampling mode, DEFAULT: mode='srvy'
                             due to cataloging at the SDC, WE REQUIRE YOU LOAD ONLY ONE MODE AT A TIME
                    Default input, all but brst (to avoid destroying your hard drive)
    level        : OPTIONAL - desired level, options are level 1a, 1b, ql, 2
                    Default input - all levels
    datatype    : OPTIONAL - desired data type. Ex: ['dce', 'dcv', 'ace', 'hmfe']
                    Default input - all data types!

    no_update    : OPTIONAL - /no_update to ensure your current data is not reloaded due to an update at the SDC
    reload       : OPTIONAL - /reload to ensure current data is reloaded due to an update at the SDC
    DO NOT DO BOTH /NO_UPDATE AND /RELOAD TOGETHER. THAT IS SILLY!
    no_sweeps    : OPTIONAL - /no_sweeps to remove any sweeps done during commissioning.
                              Hopefully you'll never have to use this outside of commissioning
    get_support  : OPTIONAL - /get_support to get support data within the CDF
                               Automatically called when /no_sweeps is called



 OUTPUT: tplot variables listed at the end of the procedure
 :Author: Katherine Goodrich, contact: katherine.goodrich@colorado.edu
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_get_edp.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_get_edp.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_GET_EIS">
<H2>MMS_SITL_GET_EIS</H2></A>
<A HREF="#MMS_SITL_GET_EDP">[Previous Routine]</A>
<A HREF="#MMS_SITL_GET_FEEPS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
         mms_load_eis
         
 PURPOSE:
         Load data from the MMS Energetic Ion Spectrometer (EIS)
 
 KEYWORDS:
         trange:       time range of interest [starttime, endtime] with the format
                       ['YYYY-MM-DD','YYYY-MM-DD'] or to specify more or less than a day
                       ['YYYY-MM-DD/hh:mm:ss','YYYY-MM-DD/hh:mm:ss']
         probes:       list of probes, valid values for MMS probes are ['1','2','3','4'].
                       if no probe is specified the default is probe '1'
         level:        indicates level of data processing. levels include 'l1a', 'l1b'. 
                       The default if no level is specified is 'l1b'
         datatype:     eis data types include ['electronenergy', 'extof', 'partenergy', 'phxtof'].
                       If no value is given the default is 'extof'.
         data_rate:    instrument data rates for eis include 'brst' 'srvy'. The
                       default is 'srvy'.
         data_units:   desired units for data. for eis units are ['flux', 'cps', 'counts']. 
                       The default is 'flux'.
         local_data_dir: local directory to store the CDF files; should be set if
                       you're on *nix or OSX, the default currently assumes Windows (c:\data\mms\)
         source:       specifies a different system variable. By default the MMS mission 
                       system variable is !mms
         get_support_data: not yet implemented. when set this routine will load any support data
                       (support data is specified in the CDF file)
         tplotnames:   names for tplot variables
         no_color_setup: don't setup graphics configuration; use this keyword when you're 
                       using this load routine from a terminal without an X server runningdo 
                       not set colors
         time_clip:    clip the data to the requested time range; note that if you do not use 
                       this keyword you may load a longer time range than requested
         no_update:    set this flag to preserve the original data. if not set and newer 
                       data is found the existing data will be overwritten
         no_interp:    if this flag is set no interpolation of the data will occur.
         suffix:       appends a suffix to the end of the tplot variable name. this is useful for
                       preserving original tplot variable.
         varformat:    should be a string (wildcards accepted) that will match the CDF variables
                       that should be loaded into tplot variables
         cdf_filenames:  this keyword returns the names of the CDF files used when loading the data
         spdf:         grab the data from the SPDF instead of the LASP SDC (only works for public access)

 
 OUTPUT:
 
 
 EXAMPLE:
     See mms_load_eis_crib.pro, mms_load_eis_burst_crib.pro, 
         mms_load_eis_crib_qlplots.pro, and mms_load_data_crib.pro for usage examples
 
     load ExTOF burst data:
     MMS1&gt; mms_load_eis, probes='1', trange=['2015-12-23', '2015-12-24'],  datatype='extof', data_rate='brst', level='l2'
            
     load PHxTOF data:
     MMS1&gt; mms_load_eis, probes='1', trange=['2015-10-31', '2015-11-01'], datatype='phxtof', level='l2'
     calculate the PHxTOF PAD for protons
     MMS1&gt; mms_eis_pad, probe='1', species='ion', datatype='phxtof', ion_type='proton', data_units='flux', energy=[0, 30], level='l2'

 NOTES:
     Please see the notes in mms_load_data for more information 
     
     
     Have questions regarding this load routine, or its usage?
          Send me an email --&gt; egrimes@igpp.ucla.edu

 HISTORY:
     09/15/2015 - Ian Cohen at APL: added modifications to omni-directional calculations to be able to handle 
                  ExTOF and PHxTOF data
     09/17/2015 - egrimes: large update, see svn log
     12/15/2015 - icohen: added data_rate keyword and conditional definition of prefix in mms_eis_spin_avg and 
                  mms_eis_omni to address burst variable name changes
     
$LastChangedBy: rickwilder $
$LastChangedDate: 2016-04-07 12:43:36 -0700 (Thu, 07 Apr 2016) $
$LastChangedRevision: 20745 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_get_eis.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_get_eis.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_get_eis.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_GET_FEEPS">
<H2>MMS_SITL_GET_FEEPS</H2></A>
<A HREF="#MMS_SITL_GET_EIS">[Previous Routine]</A>
<A HREF="#MMS_SITL_GET_HPCA">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
         mms_load_feeps
         
 PURPOSE:
         Load data from the Fly's Eye Energetic Particle Sensor (FEEPS) onboard MMS
 
 KEYWORDS: 
         trange:       time range of interest [starttime, endtime] with the format 
                       ['YYYY-MM-DD','YYYY-MM-DD'] or to specify more or less than a day 
                       ['YYYY-MM-DD/hh:mm:ss','YYYY-MM-DD/hh:mm:ss']
         probes:       list of probes, valid values for MMS probes are ['1','2','3','4']. 
                       If no probe is specified the default is '1'
         level:        indicates level of data processing. levels include 'l1a', 'l1b'. 
                       The default if no level is specified is 'l1b'
         datatype:     feeps data types include ['electron', 'electron-bottom', 'electron-top', 
                       'ion', 'ion-bottom', 'ion-top']. 
                       If no value is given the default is 'electron'.
         data_rate:    instrument data rates for feeps include 'brst' 'srvy'. The
                       default is 'srvy'.
         data_units:   specify units for omni-directional calculation and spin averaging
         local_data_dir: local directory to store the CDF files; should be set if
                       you're on *nix or OSX, the default currently assumes Windows (c:\data\mms\)
         source:       specifies a different system variable. By default the MMS mission 
                       system variable is !mms
         get_support_data: load support data (defined by support_data attribute in the CDF)
         tplotnames:   names for tplot variables
         no_color_setup: don't setup graphics configuration; use this keyword when you're using 
                       this load routine from a terminal without an X server runningdo not set 
                       colors
         time_clip:    clip the data to the requested time range; note that if you do not use 
                       this keyword you may load a longer time range than requested
         no_update:    set this flag to preserve the original data. if not set and newer data is 
                       found the existing data will be overwritten
         suffix:       appends a suffix to the end of the tplot variable name. this is useful for
                       preserving original tplot variable.
         varformat:    should be a string (wildcards accepted) that will match the CDF variables
                       that should be loaded into tplot variables
         cdf_filenames:  this keyword returns the names of the CDF files used when loading the data
         cdf_version:  specify a specific CDF version # to load (e.g., cdf_version='4.3.0')
         latest_version: only grab the latest CDF version in the requested time interval 
                       (e.g., /latest_version)
         min_version:  specify a minimum CDF version # to load 
         spdf: grab the data from the SPDF instead of the LASP SDC (only works for public access)

 OUTPUT:
  
 EXAMPLE:
     See crib sheet mms_load_feeps_crib.pro for usage examples

     load electron data (srvy mode)
     MMS1&gt; mms_load_feeps, probes='1', trange=['2015-08-15', '2015-08-16'], datatype='electron'
     MMS1&gt; mms_feeps_pad,  probe='1', datatype='electron'
     
 NOTES:
     Have questions regarding this load routine, or its usage?
          Send me an email --&gt; egrimes@igpp.ucla.edu
          
          
     The spectra variables created with &quot;_clean&quot; in their names have 
       the 500 keV integral channel removed.
     The spectra variables with '_sun_removed' in their names 
       have the sun contamination removed 
       
       (*_clean_sun_removed variables have both the 500 keV integral 
         channel removed and the sun contamination removed)
 
 
     Please see the notes in mms_load_data for more information 

$LastChangedBy: rickwilder $
$LastChangedDate: 2017-08-09 13:51:06 -0700 (Wed, 09 Aug 2017) $
$LastChangedRevision: 23769 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_get_feeps.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_get_feeps.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_get_feeps.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_GET_HPCA">
<H2>MMS_SITL_GET_HPCA</H2></A>
<A HREF="#MMS_SITL_GET_FEEPS">[Previous Routine]</A>
<A HREF="#MMS_SITL_READ_FEEPS_SECTOR_MASKS_CSV">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
         mms_load_hpca
         
 PURPOSE:
         Load data from the MMS Hot Plasma Composition Analyzer (HPCA)
 
 KEYWORDS:
         trange: time range of interest
         probes: list of probes - values for MMS SC #
         local_data_dir: local directory to store the CDF files
         varformat: format of the variable names in the CDF to load
         no_color_setup: don't setup graphics configuration; use this
             keyword when you're using this load routine from a
             terminal without an X server running
 
 OUTPUT:
 
 
 EXAMPLE:
     See the crib sheet mms_load_data_crib.pro for usage examples
 
 NOTES:
     Please see the notes in mms_load_data for more information 

$LastChangedBy: rickwilder $
$LastChangedDate: 2015-10-14 14:46:45 -0700 (Wed, 14 Oct 2015) $
$LastChangedRevision: 19074 $
$URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_get_hpca.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_get_hpca.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_get_hpca.pro</A>)</STRONG><P>
<HR>
 
<A NAME="MMS_SITL_READ_FEEPS_SECTOR_MASKS_CSV">
<H2>MMS_SITL_READ_FEEPS_SECTOR_MASKS_CSV</H2></A>
<A HREF="#MMS_SITL_GET_HPCA">[Previous Routine]</A>
<A HREF="#UNH_EDI_AMB_CRIB">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>

 FUNCTION:
         mms_read_feeps_sector_masks_csv

 PURPOSE:
         Returns the FEEPS sectors to mask due to sunlight contamination

 OUTPUT:
         Hash table containing the sectors to mask for each spacecraft and sensor ID

 EXAMPLE:
     ; to get the masks for MMS1, top sensor = 1:
     IDL&gt; masks = mms_read_feeps_sector_masks_csv()

     ; note the concatenation: mms+probe#+imask+[t or b]+sensorID
     IDL&gt; mms1_top_sensor1 = masks['mms1imaskt1']
     IDL&gt; mms1_top_sensor1
         2       3       4       5       6      20      21


 NOTES:
     Will only work in IDL 8.0+, due to the hash table data structure

     Updated to use CSV files, 8/1/2016; files must be in the same
     directory as this routine.

 $LastChangedBy: rickwilder $
 $LastChangedDate: 2017-08-09 13:51:06 -0700 (Wed, 09 Aug 2017) $
 $LastChangedRevision: 23769 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/mms/sitl/sitl_data_fetch/mms_sitl_read_feeps_sector_masks_csv.pro $
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/mms_sitl_read_feeps_sector_masks_csv.pro">projects/mms/sitl/sitl_data_fetch/mms_sitl_read_feeps_sector_masks_csv.pro</A>)</STRONG><P>
<HR>
 
<A NAME="UNH_EDI_AMB_CRIB">
<H2>UNH_EDI_AMB_CRIB</H2></A>
<A HREF="#MMS_SITL_READ_FEEPS_SECTOR_MASKS_CSV">[Previous Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
   Plot EDI ambient data

 :Categories:
    MMS, SITL

 :Examples:
   To use::
       IDL&gt; .r unh_edi_amb_crib

 :Author:
    Matthew Argall::
    University of New Hampshire
    Morse Hall Room 348
    8 College Road
    Durham, NH 03824
    matthew.argall@unh.edu

 :History:
    Modification History::
       2015/08/03  -   Written by Matthew Argall
       2015/09/06  -   Include EDP E-field. Plot 0 &amp; 180 separately. - MRA
       2015/10/09  -   Plot any telemetry mode. - MRA
</PRE><P>
<STRONG>(See <A href="sitl_data_fetch/unh_edi_amb_crib.pro">projects/mms/sitl/sitl_data_fetch/unh_edi_amb_crib.pro</A>)</STRONG><P>
<HR>
 
