<!-- This file was generated by mk_html_help.pro -->
<html>
 
<head>
<TITLE>projects/kaguya/map/lmag</TITLE>
</head>
 
<body>
<P>
This page was created by the IDL library routine 
<CODE>mk_html_help2</CODE>.
<br>
<P>
<STRONG>Last modified: </STRONG>Wed Mar  7 18:16:23 2018.<P>
 
<HR>
 
<A NAME="ROUTINELIST">
<H1>Directory Listing of Routines</H1></A>
<UL>
<H1>projects/kaguya/map/lmag</H1>
<LI><A HREF="#KGY_CALC_BCON">KGY_CALC_BCON</A>
<br>Calculates B connection between s/c and the Moon
<LI><A HREF="#KGY_LMAG_COM">KGY_LMAG_COM</A>
<br>stores the LMAG static memory
<LI><A HREF="#KGY_READ_LMAG">KGY_READ_LMAG</A>
<br>reads in Kaguya MAP/LMAG files
<br>
</UL><P>
<HR>
 
<H1>Routine Descriptions</H1>
<A NAME="KGY_CALC_BCON">
<H2>KGY_CALC_BCON</H2></A>
<A HREF="#KGY_LMAG_COM">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
       kgy_calc_bcon
 PURPOSE:
       Calculates B connection between s/c and the Moon
 CALLING SEQUENCE:
       kgy_calc_bcon, tvar_Rme = 'kgy_lmag_Rme', tvar_Bme = 'kgy_lmag_Bme'
 KEYWORDS:
       tvar_Rme: tplot variable of s/c position in ME coordinates
       tvar_Bme: tplot variable of B vector in ME coordinates
 Output tplot variables:
       'kgy_lmag_Bcon_flg' = Magnetic connection flag:
                             0 (black) for no connection,
                             1 (green) for anti-para connection (-B ==&gt; Moon),
                             2 (red) for parallel connection (+B ==&gt; Moon)
       'kgy_lmag_bimpact' = distant along the field line from s/c to footpoint
       'kgy_lmag_fp_lat' = footpoint latitude in ME coordinates
       'kgy_lmag_fp_lon' = footpoint longitude in ME coordinates
       'kgy_lmag_belev' = B elevation angle from the surface at the footpoint
       'kgy_lmag_surfloc' = footpoint location (normalized by rL)
 CREATED BY:
       Yuki Harada
       - modified from 'art_bconnect_bres.pro' written by Andrew Poppe
       - tvar_Rme and tvar_Bme should have the same time array
         (time interpolation not included)

 $LastChangedBy: haraday $
 $LastChangedDate: 2016-09-18 17:19:45 -0700 (Sun, 18 Sep 2016) $
 $LastChangedRevision: 21853 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/kaguya/map/lmag/kgy_calc_bcon.pro $
</PRE><P>
<STRONG>(See <A href="lmag/kgy_calc_bcon.pro">projects/kaguya/map/lmag/kgy_calc_bcon.pro</A>)</STRONG><P>
<HR>
 
<A NAME="KGY_LMAG_COM">
<H2>KGY_LMAG_COM</H2></A>
<A HREF="#KGY_CALC_BCON">[Previous Routine]</A>
<A HREF="#KGY_READ_LMAG">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 COMMON BLOCK:
     kgy_lmag_com
 PURPOSE:
     stores the LMAG static memory
     lmag_*_arr: strcuture arrays which contain time (seconds since
                 1970) and vector/scalar data
 CREATED BY:
     Yuki Harada on 2014-06-29

 $LastChangedBy: haraday $
 $LastChangedDate: 2016-09-09 11:33:47 -0700 (Fri, 09 Sep 2016) $
 $LastChangedRevision: 21810 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/kaguya/map/lmag/kgy_lmag_com.pro $
</PRE><P>
<STRONG>(See <A href="lmag/kgy_lmag_com.pro">projects/kaguya/map/lmag/kgy_lmag_com.pro</A>)</STRONG><P>
<HR>
 
<A NAME="KGY_READ_LMAG">
<H2>KGY_READ_LMAG</H2></A>
<A HREF="#KGY_LMAG_COM">[Previous Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
 PROCEDURE:
     kgy_read_lmag
 PURPOSE:
     reads in Kaguya MAP/LMAG files 
     and stores data in a common block (kgy_lmag_com)
 CALLING SEQUENCE:
     kgy_read_lmag, files, trange=trange
 INPUTS:
     files: full paths to the LMAG files (gziped or decompressed)
            e.g., [ 'dir/mag20080101.7.all.1sec.gz', $
                    'dir/mag20080101.7.sat.1sec.gz', $
                    'dir/mag20080101_00.7.sat.32hz.gz', ... ]
 KEYWORDS:
     trange: time range (optional, Def. all),
             ['yyyy-mm-dd/hh:mm:ss','yyyy-mm-dd/hh:mm:ss']
             Any format compatible with 'time_double' is acceptable.
 NOTES:
     Invalid data elements = 999.99 -&gt; NaNs
 CREATED BY:
     Yuki Harada on 2014-06-30

 $LastChangedBy: haraday $
 $LastChangedDate: 2016-09-09 11:33:47 -0700 (Fri, 09 Sep 2016) $
 $LastChangedRevision: 21810 $
 $URL: svn+ssh://thmsvn@ambrosia.ssl.berkeley.edu/repos/spdsoft/trunk/projects/kaguya/map/lmag/kgy_read_lmag.pro $
</PRE><P>
<STRONG>(See <A href="lmag/kgy_read_lmag.pro">projects/kaguya/map/lmag/kgy_read_lmag.pro</A>)</STRONG><P>
<HR>
 
